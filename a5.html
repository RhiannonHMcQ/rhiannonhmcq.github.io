<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, maximum-scale=1.0" />

    <title>Rhiannon's HCDE 439 Physical Computing Page!</title>

    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <h1>Rhiannon's Assignment 5!</h1>
    <div class="header">
      <video controls autoplay>
        <source src="HighVoltage_Video.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>
    <br>
      <h2>Schematic</h2>
      <figure>
        <img src="HighVoltage_Schematic.jpg">
        <figcaption> Shows the capacitive sensor circuit, connected and powered by Arduino, and the LED strip circuit, connected to 
          ground and power through an n-mosfet transistor. The transistor is connected to an Arduino analog pin, power from a 12V wall
          supply, and ground (through the Arduino). The LED strip has sets of 3 LEDs in parallel, all LEDs causing about 3.3V drop. 
          A 220 ohm resistor is used to limit current, as the LED strip (when using 20mA of current) calls for a 105 ohm resistor. It 
          limits the amount of light displayed when the transistor gate is open. 
        </figcaption>
      </figure>
      <br>
      <h2>Circuit</h2>
      <figure>
        <img src="HighVoltage_Circuit.jpg">
        <figcaption> Shows the circuit, in which the LED strip is connected to the 12V power supply and ground (through the transistor). 
          The blue wire connects the transistor to pin 9 of the Arduino (gate). The 12V power supply is connected to the LED strip (power) 
          and directly to ground. The capacitive sensor is connected to pins 2 and 4 of the Arduino, with a 1 mega-ohm resistor between them.
          The yellow wire is the sensor, and senses touch capacitance.
        </figcaption>
      </figure>
      <br>
      <h2>Code</h2>
      <pre><code>
        // include the library code:
        #include <CapacitiveSensor.h>

        // 1 megohm resistor between pins 4 & 2, pin 2 is sensor pin
        CapacitiveSensor   cs_4_2 = CapacitiveSensor(4,2);

        void setup() {
          pinMode(9, OUTPUT); // set pin 9 (gate of transistor) as output pin
        }

        void loop() {
          // sensor output data
          long total1 =  cs_4_2.capacitiveSensor(30);

          // constrain data to certain values
          total1 = constrain(total1, 0, 1000);

          // map sensor data to 0 to 255 (for analogWrite in 8-bit)
          total1 = map(total1, 0, 1000, 0, 255);
          
          // send data to light up LED strip to set level
          analogWrite(9, total1);
        }
      </code></pre>
      <br>
      <h2>Question answers</h2>
      <p>
        <strong>1. Use the datasheet for the n-mosfet transistor. What is the absolute maximum amount of current between pins 2 and 3?
        </strong>
        Pin 2 is Drain and Pin 3 is Source. Based on the body diode forward current, the highest amount of current between drain and source 
        is 80 A. 
      </p>
      <p>
        <strong>2. Draw a schematic for a circuit with using at least your arduino, a DC motor, a flyback diode, and capacitors between power and ground. 
          Find parts with datasheets you could use for each of these schematic components.
        </strong>
        <figure>
          <img src="HighVoltage_Q2.jpg">
          <figcaption> Connects a DC motor and resistor from power to ground. A flyback diode is connected in parallel so that any additional 
            voltage is sent back through the DC motor, instead of damaging the circuit. A capacitor is connected in parallel as well (from power
            to ground) to smooth out spikes. 
            <br>
            DC Motor Datasheet: https://www.moog.com/literature/MCG/moc23series.pdf
            <br>
            Flyback diode Datasheet: https://www.vishay.com/docs/88503/1n4001.pdf 
            <br>
            Capacitor Datasheet: https://www.tdk-electronics.tdk.com/inf/20/30/db/aec_2013/B41821_B43821.pdf
          </figcaption>
        </figure>
      </p>
      <p>
        <strong>3. Use the datasheet for the L293D chip. Draw a schematic using at least your arduino, this chip, and two motors. Write (pseudo) code 
          that shows how you would move the motors both forward, both back, then one forward one back, and one back then forward.
        </strong>
        <figure>
          <img src="HighVoltage_Q3_1.jpg">
          <figcaption> Power is connected to pins 1, 16, 8, and 9, as well as to the motors. The motors are connected to pins 2 & 7, and 10 & 15. 
            Pins 4,5, 12, 13 act as heat sinks connected to ground. Pins 2 and 7 controll motor 1, and pins 10 and 15 control motor 2. 
          </figcaption>
        </figure>
        Pseudo code:
        <pre><code>
          // Set motor pins (2, 7, 10, 15)as outputs
          // Move both forward by setting 2 and 10 HIGH, and 7 and 15 LOW
          // Move both back by setting 7 and 15 HIGH, and 2 and 10 LOW
          // Move motor 1 forward and motor 2 back by setting 2 and 15 HIGH, and 7 and 10 LOW
          // Move motor 1 back and motor 2 forward by setting 7 and 10 HIGH, and 2 and 15 LOW
        </code></pre>
      </p>
      <p>
        <strong>4. Did you use AI tools in completing this assignment?</strong>
        No, I did not use AI tools. 
      </p>
  </body>
</html>
